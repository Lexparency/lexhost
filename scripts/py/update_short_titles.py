from legislative_act import model as dm


short_titles = {
  "32010R0995": ["Holzhandelsverordnung", "EUTR"],
  "32013R1024": ["Einheitlicher Bankenaufsichtsmechanismus", "SSM"],
  "32009R1221": ["Eco Management and Audit Scheme", "EMAS III"],
  "31993L0042": ["Medical Device Directive", "MDD"],
  "32006R1907": ["Registration, Evaluation, Authorisation and Restriction of Chemicals", "REACH"],
  "32019L0790": ["Urheberrechtsrichtlinie", None],
  "32003R2201": [None, "Brüssel IIa"],
  "32015L2436": ["Europäische Markenrechtsrichtlinie", "MarkenRL"],
  "32009R0810": ["Visakodex", None],
  "31996L0071": ["Entsenderichtlinie", None],
  "32000R2725": ["Eurodac", None],
  "32009R0004": [None, "EG-UnterhaltsS"],
  "32013L0034": ["Bilanz-Richtlinie", "IFRS"],
  "32004R0805": [None, "EG-Vollstr-Titel"],
  "32020R0852": ["Taxonomie-Verordnung", None],
  "32010R1095": ["Europäische Wertpapier- und Marktaufsichtsbehörde", "ESMA"],
  "32015R0847": ["Geldtransferverordnung", None],
  "32003R1435": ["Europäische Genossenschaft", "SCE"],
  "32011L0061": [None, "AIFM"],
  "32008L0048": ["Verbraucherkreditrichtlinie", None],
  "32018R0302": ["Geoblocking und andere Formen der Diskriminierung", "Geoblocking-VO"],
  "32014L0065": ["Finanzmarktrichtlinie II", "MiFID II"],
  "31992L0043": ["Fauna-Flora-Habitat-Richtlinie", "FFH"],
  "32003L0088": ["Arbeitszeitrichtlinie", None],
  "32001L0080": ["Large Combustion Plants Directive", "LCP"],
  "32014R0656": ["Seeaußengrenzenverordnung", None],
  "32016L0097": ["Insurance Distribution Directive", "IID"],
  "32002F0584": ["Europäischer Haftbefehl", "EuHB"],
  "32007R0864": [None, "Rom II"],
  "32013R0575": ["Eigenmittelverordnung", "CRR"],
  "32006R0166": ["Schadstofffreisetzungs- und -verbringungsregister", None],
  "32013R0604": ["Dublin III", None],
  "32013R0606": ["Schutzmaßnahmen VO", None],
  "32004L0048": ["Durchsetzungsrichtlinie", "IPRED"],
  "32003R0343": ["Dublin II", None],
  "31987R2658": ["Kombinierte Nomenklatur", None],
  "32004L0039": ["Finanzmarktrichtlinie I", "MiFID I"],
  "32007R1393": ["Zustellung von Schriftstücken", None],
  "32003L0035": ["Öffentlichkeitsbeteiligungsrichtlinie", None],
  "32006R1924": ["Health Claims", None],
  "32014R0910": [None, "eIDAS"],
  "31962R0031": ["Staff Regulation", None],
  "32001L0029": ["Urheberrechtsrichtlinie", None],
  "32011R1169": ["Lebensmittel-Informationsverordnung", "LMIV"],
  "31994R2257": ["Bananenverordnung", None],
  "32002L0092": ["Insurance Mediation Directive", None],
  "32012R0236": ["Short Selling Regulation", None],
  "32011R0492": [None, "AN-Freizüg"],
  "32013L0036": ["Eigenmittelrichtlinie", "CRD"],
  "32016L0943": ["Know-How-Richtlinie", "KnowHowRL"],
  "32016R0399": ["Schengener Grenzkodex", "SGK"],
  "32003L0086": ["Family Reunification Directive", None],
  "32000L0031": ["eCommerce Richtlinie", None],
  "32003L0109": ["Daueraufenthaltsrichtlinie", None],
  "32017R0745": ["Medizinprodukte-Verordnung", "MDR"],
  "31995L0046": ["Datenschutzrichtlinie", None],
  "32011L0065": ["Restriction of Hazardous Substances", "RoHS 2"],
  "32007L0047": ["Medical Device Directive", "MDD"],
  "32015L0849": ["EU-Anti-Geldwäsche-Richtlinie", "AMLD 4"],
  "32008R0593": [None, "Rom I"],
  "32011L0083": ["Verbraucherrechte", None],
  "32013L0033": ["Aufnahmerichtlinie", None],
  "32014L0030": [None, "EMV"],
  "32001R2157": ["Europäische Gesellschaft", "SE"],
  "32013L0032": ["Asylverfahrensrichtlinie", None],
  "32013R0603": [None, "Eurodac"],
  "32016L1148": ["Network and Information Systems Directive", "NIS"],
  "32019L0882": ["Europäischer Rechtsakt zur Barrierefreiheit", None],
  "32018R1806": ["EU-Visum VO", None],
  "31999L0044": ["Consumer Sales and Guarantees Directive", None],
  "32015R2365": ["Securities Financing Transaction Regulation", "SFTR"],
  "32014L0059": ["Abwicklungsrichtlinie", "BRRD"],
  "32006L0068": ["Kapitalgesellschaftsrichtlinie", None],
  "32014R1286": [None, "PRIIP"],
  "32014R0596": ["Marktmissbrauchsverordnung", "MAR"],
  "32014L0035": ["Niederspannungsrichtlinie", None],
  "32009R1223": ["Kosmetikverordnung", None],
  "32012R0650": [None, "Rom IV"],
  "32004R0139": ["EG-Fusionskontrollverordnung", "FKVO"],
  "32006L0123": ["Dienstleistungsrichtlinie", None],
  "32014R0600": ["Europäische Finanzmarktverordnung", "MiFIR"],
  "32015L2366": ["Zahlungsdiensterichtlinie", "PSD II"],
  "32016R0679": ["Datenschutzgrundverordnung", "DSGVO"],
  "32018R0625": ["Delegierte Verordnung zur Unionsmarkenverordnung", "DVUM"],
  "32007R0834": ["EG-Öko-Basisverordnung", None],
  "32011L0062": ["Arzneimittelfälschungen", None],
  "32016L0798": ["Railway Safety Directive", None],
  "32012L0018": [None, "Seveso III"],
  "32012R0531": [None, "Eurotariff"],
  "32019R0881": ["Cybersicherheitsverordnung", "ENISA"],
  "32011L0095": ["Qualifikationsrichtlinie", None],
  "32011L0096": ["Parent-Subsidiary Directive", None],
  "32009L0147": ["Vogelschutzrichtlinie", None],
  "32014R0806": ["Einheitlicher Bankenabwicklungsmechanismus", "SRM"],
  "32014R0651": ["Allgemeine Gruppenfreistellungsverordnung", "GBER"],
  "32006L0048": ["Tätigkeit der Kreditinstitute", "CRD"],
  "32012R1215": [None, "EuGVVO"],
  "32018L1808": ["Richtlinie über audiovisuelle Mediendienste", None],
  "32006L0112": ["Mehrwertsteuer", None],
  "32017R1001": ["Unionsmarkenverordnung", "UMV"],
  "32014L0104": ["Damages Actions Directive", None],
  "32014L0091": [None, "OGAW"],
  "32016R1011": ["EU Referenzwerte-Verordnung", None],
  "31993L0013": ["Unfair Terms Directive", None],
  "32001R0044": ["Brüssel-I-Verordnung", "EuGVVO"],
  "32006L0042": ["Maschinenrichtlinie", None],
  "32017R1129": ["Prospektverordnung", None],
  "32004R0261": ["Fluggastrechte-Verordnung", None],
  "32007L0064": ["Payment Services Directive", "PSD I"],
  "32008L0115": ["Rückführungsrichtlinie", None],
  "32009L0028": ["Erneuerbare Energien Richtlinie", "RED"],
  "32007L0036": ["Aktionärsrechterichtlinie", None],
  "32008R1333": ["Additives", None],
  "32002L0058": ["ePrivacy-Richtlinie", None],
  "31985L0374": ["Produkthaftungsrichtlinie", None],
  "32018L2001": ["Erneuerbare Energien Richtlinie", "RED II"],
  "32018R0626": ["Unionsmarkendurchführungsverordnung", "UMDV"],
  "32000R1346": ["Insolvenzverordnung", None],
  "32016R0867": ["Analytical Credit Dataset", "AnaCredit"],
  "32019L1151": ["Digitalisierungsrichtlinie", None],
  "32009L0125": ["Ökodesignrichtlinie", "ErP"],
  "32014L0053": ["Funkanlagenrichtlinie", "RED"],
  "32008R1272": ["Global harmonisiertes System zur Einstufung und Kennzeichnung von Chemikalien", "GHS"],
  "32000L0060": ["Europäische Wasserrahmenrichtlinie", "EU-WRRL"],
  "32009L0065": ["Organismen für gemeinsame Anlagen in Wertpapieren", "OGAW"],
  "32017R0746": ["In-vitro-Diagnostika", "IVD"],
  "32017R2324": ["Glyphosatverordnung", None],
  "32010R1259": [None, "Rom III"],
  "32007R0861": ["Verfahren für geringfügige Forderungen", None],
  "31990L0435": ["Mutter-Tochter-Richtlinie", None],
  "32006R1893": ["Statistische Systematik der Wirtschaftszweige in der Europäischen Gemeinschaft", "NACE"],
  "31985R2137": ["Europäische wirtschaftliche Interessenvereinigung", "EWIV"],
  "32006R1082": ["Europäischer Verbund für territoriale Zusammenarbeit", "EVTZ"],
  "32006R1896": ["Europäisches Mahnverfahren", None],
  "32012R0648": ["Regulierung des außerbörslichen Derivatehandels", "EMIR"],
  "32009L0138": [None, "Solvabilität II"]
}


def get_cover_ids(celex):
    vm = dm.VersionsMap.get('eu-' + celex)
    return [f'eu-{celex}-COV-{eah.hidden_version}'
            for eah in vm.exposed_and_hidden if eah.sub_id == 'COV']


def update_for(celex):
    pop_title, poc_acronym = short_titles[celex]
    for cid in get_cover_ids(celex):
        cov = dm.Cover.get(cid)
        if pop_title is not None:
            cov.pop_title = pop_title
        if poc_acronym is not None:
            cov.pop_acronym = poc_acronym
        cov.save()


if __name__ == '__main__':
    for clx in short_titles.keys():
        update_for(clx)
